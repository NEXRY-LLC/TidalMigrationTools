APPL APD001 WAIT

INVOKE 'SWS.ESP.APPL.PROCLIB(#DISTRIB)'

/**********************************************************************/
/* Changed JPMC signing key        02/23/16     JRE                   */
/*                                                                    */
/* 12/10/18 -VMD- CHANGED SERVER NAME IN SEND JOB PER MICHAEL MCKENNEY*/
/*           CHANGED FROM OLD NAME sfgint01pnsh.bfusa.com to          */
/*           NEW NAME sfgint01pakr.idm.bfusa.com                      */
/*03/18/2019 -JFC-  UPDATED PROC PER  INC000001878221                 */
/*03/23/2020 -JFC- UPDATED ENCRYPT KEY PER INC000002193720            */
/*11/24/2021 -VV - Updated new sterling server-JPM scripts-REQ0098535 */
/**********************************************************************/

NOTIFY ABEND FAILURE ALERT(REMD)

JOB LIS.!ESPAPPL LINK PROCESS
   RUN DAILY
   EARLYSUB 05.30
   RELEASE ADD(RFCHKE00_POSITIVE_PAY_BANK_ONE)
ENDJOB

SAP_JOB RFCHKE00_POSITIVE_PAY_BANK_ONE
   SAPUSER SAPADM
   AGENT CYBB_BFP030
   SAPJOBNAME RFCHKE00_POSITIVE_PAY_BANK_ONE
   SAPJOBCLASS C
   ABAPNAME RFCHKE00
   VARIANT CO-CHK-EXTRACT
   LANGUAGE E
   PRINTDEST CC13
   EXPIRATION 8
   LINES 65
   COLUMNS 132
   RECIPIENT SYLVESTTOM
   ARCMODE PRINT
   PRINTCOPIES 001
   RUN DAILY
   RELEASE ADD(ZFIAPI04_POSITIVE_PAY_BANK_ONE)
ENDJOB

SAP_JOB ZFIAPI04_POSITIVE_PAY_BANK_ONE
   SAPUSER SAPADM
   AGENT CYBB_BFP030
   SAPJOBNAME ZFIAPI04_POSITIVE_PAY_BANK_ONE
   SAPJOBCLASS C
   ABAPNAME ZFIAPI04
   VARIANT PRODUCTION
   LANGUAGE E
   PRINTDEST DZ01
   PRINTIMMED YES
   EXPIRATION 8
   COLUMNS 132
   BANNER D
   RECIPIENT SYLVESTTOM
   ARCMODE PRINT
   PRINTCOPIES 001
   RUN DAILY
   RELEASE ADD(RFCHKE00_POS_PAY_BANK_ONE_2000)
ENDJOB

SAP_JOB RFCHKE00_POS_PAY_BANK_ONE_2000
   SAPUSER SAPADM
   AGENT CYBB_BFP030
   SAPJOBNAME RFCHKE00_POS_PAY_BANK_ONE_2000
   SAPJOBCLASS C
   STARTMODE ASAP
   PRINTCOPIES 001
   ABAPNAME RFCHKE00
   VARIANT 'BSA SOURCING'
   LANGUAGE E
   PRINTDEST CC13
   EXPIRATION 8
   LINES 65
   COLUMNS 132
   BANNER D
   RECIPIENT SAPADM
   ARCMODE PRINT
   RUN DAILY
   RELEASE ADD(ZFIAPI04_POS_PAY_BANK_ONE_2000)
ENDJOB

SAP_JOB ZFIAPI04_POS_PAY_BANK_ONE_2000
   SAPUSER SAPADM
   AGENT CYBB_BFP030
   SAPJOBNAME ZFIAPI04_POS_PAY_BANK_ONE_2000
   SAPJOBCLASS C
   PRINTCOPIES 001
   ABAPNAME ZFIAPI04
   VARIANT 'PROD SOURCING'
   LANGUAGE E
   PRINTDEST CP21
   ARCMODE PRINT
   BANNER D
   RECIPIENT SAPADM
   COLUMNS 132
   EXPIRATION 8
   STARTMODE ASAP
   RUN DAILY
   RELEASE ADD(CONCATPOSPAY)
ENDJOB

UNIX_JOB CONCATPOSPAY
   AGENT CYBA_ISBFP3
   USER root
   SCRIPTNAME /local/bin/concat_file.sh
   ARGS /data/BFP/interfaces/output/dataout/zfiapi04_pos_pay_src +
/data/BFP/interfaces/output/dataout/zfiapi04_iod_pos_pay
   RUN DAILY
   RESOURCE ADD(1,ISBFP3CD)
   RELEASE ADD(ARNTCHK.ISBFP3)
   RELEASE ADD(ARSRCING.ISBFP3)
ENDJOB

UNIX_JOB ARNTCHK.ISBFP3
   AGENT CYBA_ISBFP3
   SCRIPTNAME /local/bin/arcfile.sh
   ARGS interfaces/input/datain/ntcheck D
   USER bfpadm
   RUN DAILY
   RELEASE ADD(POSPAY2PGP)
ENDJOB

UNIX_JOB ARSRCING.ISBFP3
   AGENT CYBA_ISBFP3
   SCRIPTNAME /local/bin/arcfile.sh
   ARGS interfaces/input/datain/srcingck D
   USER bfpadm
   RUN DAILY
   RELDELAY 1
   RELEASE ADD(POSPAY2PGP)
ENDJOB

AIX_JOB POSPAY2PGP
   AGENT CYBA_ISBFP3
   USER root
   SCRIPTNAME /local/bin/scp2_pgp2akfis.sh
   ARGS /data/BFP/interfaces/output/dataout/ zfiapi04_iod_pos_pay
   RUN TODAY
   RELEASE ADD(ENCRYPT_POSPAY)
ENDJOB

LINUX_JOB ENCRYPT_POSPAY
   AGENT CYBA_PGP2AKFIS
   SCRIPTNAME /usr/local/scripts/pgpencrypt.sh
   USER ceadmin
   ARGS zfiapi04_iod_pos_pay "JPMC_GTI_MFT_FTS" +
   "bs_signing_key_JPMC_GTI_exp2022"
   RUN DAILY
   RELDELAY 1
   RELEASE ADD(RENAME_POSPAY)
ENDJOB

LINUX_JOB RENAME_POSPAY
   AGENT CYBA_PGP2AKFIS
   SCRIPTNAME /usr/local/scripts/renameToSpec.sh
   USER root
   ARGS BSAM JPMC 9743 APSAPPOSPAY +
   /home/ceadmin/zfiapi04_iod_pos_pay.pgp
   RUN DAILY
   RELEASE ADD(SEND_POSPAY)
ENDJOB

LINUX_JOB SEND_POSPAY
   AGENT CYBA_PGP2AKFIS
   SCRIPTNAME /usr/local/scripts/scpsend.sh
   USER root
   ARGS -u JPMCHASE -p 'BjF&Um$c' -h +
   bsa-securetransfersint.bfusa.com -P +
10022 -f /home/ceadmin/BSAM_JPMC_9743_APSAPPOSPAY_*.pgp
   RUN DAILY
   RELEASE ADD(B2D011)
ENDJOB

JOB B2D011
   /*DATASET 'B2.TST.JCLLIB'
   CCCHK RC(1:4095) FAIL CONTINUE
   RUN DAILY
   RELEASE ADD(B2D012)
ENDJOB

JOB B2D012
   DATASET 'B2.TST.JCLLIB'
   CCCHK RC(1:4095) FAIL CONTINUE
   RUN DAILY
   RELEASE ADD(ARPOSPAY)
ENDJOB

AIX_JOB ARPOSPAY
   AGENT CYBA_ISBFP3
   USER bfpadm
   SCRIPTNAME /local/bin/arcfile.sh
   ARGS interfaces/output/dataout/zfiapi04_iod_pos_pay W
   RUN DAILY
  RELEASE ADD(LIE.!ESPAPPL)
ENDJOB

JOB LIE.!ESPAPPL LINK PROCESS
  RUN DAILY
ENDJOB

