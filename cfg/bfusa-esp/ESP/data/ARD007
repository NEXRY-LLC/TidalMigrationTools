APPL ARD007 WAIT

INVOKE 'SWS.ESP.APPL.PROCLIB(#DISTRIB)'

/*********************************************************************/
/*03/19/2019 -JFC-  UPDATED PROC PER  INC000001879484                */
/*********************************************************************/

NOTIFY ABEND FAILURE ALERT(REMD)

JOB LIS.!ESPAPPL LINK PROCESS
   RUN DAILY
   RELEASE ADD(PAYMENT)
   RELEASE ADD(EDI823)
ENDJOB

FILE_TRIGGER PAYMENT
   AGENT CYBB_BFP030
   FILENAME /data/BFP/interfaces/input/datain/zfiari07_payment_* +
CREATE NOCHANGE(1)
   RUN DAILY
   RELEASE ADD(NOPAYMENT)
   RELEASE ADD(COMPLETE_EDI823)
ENDJOB

FILE_TRIGGER EDI823
   AGENT CYBB_BFP030
   FILENAME /data/BFP/interfaces/input/datain/zfiari07_edi823_* +
CREATE NOCHANGE(1)
   RUN DAILY
   RELEASE ADD(NOPAYMENT)
   RELEASE ADD(COMPLETE_PAYMENT)
ENDJOB

JOB COMPLETE_EDI823 LINK PROCESS
   RUN DAILY
   ESP AJ EDI823 COMPLETE APPL(ARD007.0)
ENDJOB

JOB COMPLETE_PAYMENT LINK PROCESS
   RUN DAILY
   ESP AJ PAYMENT COMPLETE APPL(ARD007.0)
ENDJOB

FILE_TRIGGER NOPAYMENT
   AGENT CYBB_BFP030
   FILENAME /data/BFP/interfaces/input/datain/zfiari07_payment.txt +
NOTEXIST
   RUN DAILY
   RELEASE ADD(MVZFIARI07)
ENDJOB

UNIX_JOB MVZFIARI07
   AGENT CYBA_ISBFP3
   USER root
   SCRIPTNAME /local/bin/mv_zfiari07.sh
   ARGS BFP payment
   RUN DAILY
   RELEASE ADD(ZFIARI07_PAYMENT)
ENDJOB

SAP_JOB ZFIARI07_PAYMENT
   AGENT CYBB_BFP030
   SAPJOBNAME ZFIARI07_PAYMENT
   SAPJOBCLASS C
   STARTMODE ASAP
   ABAPNAME ZFIARI07
   VARIANT Z_DAILY_PAY
   STEPUSER SAPADM
   LANGUAGE E
   PRINTDEST CP21
   EXPIRATION 8
   LINES 65
   COLUMNS 80
   BANNER D
   RECIPIENT SAPADM
   ARCMODE PRINT
   PRINTCOPIES 001
   RUN DAILY
   RELEASE ADD(ARZFIARI07)
ENDJOB

UNIX_JOB ARZFIARI07
   AGENT CYBA_ISBFP3
   USER bfpadm
   SCRIPTNAME /local/bin/arcfile.sh
   ARGS interfaces/input/datain/zfiari07_payment.txt D
   RUN DAILY
ENDJOB

APPLEND ARD007
   ESPNOMSG TRIGGER !ESPEVENT ADD
   RUN DAILY
ENDJOB


