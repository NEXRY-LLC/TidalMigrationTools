APPL SWESPDGT JOB_ANCESTOR_WAIT

TAG 'SWTEST'
  NOTIFY JOBEND MAILBOX(DGRIMMETT1)
/* NOTIFY OVERDUE MAILBOX(DGRIMMETT1) */

JCLLIB 'FTRF.PRDJOBS'
COPYJCL 'SWS.ESP.COPYLIB'
TEMPLIB 'SWS.ESP.TEMPLIB'
DOCLIB 'SWS.ESP.DOCLIB'

IF !ESPAPSUB# > 1 THEN JCLLIB 'SWS.ESP.COPYLIB'

OPTIONS RESTARTSTEP

JOB SWESPDG1
/*  LATESUB 12:30
    CCCHK RC(8:4095) FAIL CONTINUE
/*  CCCHK RC(8:4095) FAIL STOP               */
/*  TAG 'RUN#!ESPAPSUB#'                     */
    NOTIFY JOBEND MAILBOX(DGRIMMETT1)
/*  NOTIFY END ALERT(SW02)                   */
/*  NOTIFY FAILURE ROUTE(2) DESC(2)          */
/*  NOTIFY FAILURE USERS(TSO5966,BS09107) */
  NORUN HOLIDAY
  RUN TODAY
/*  IF TODAY('1ST DAY OF MONTH') AND - */
/*     TODAY('HOLIDAY') THEN RUN TODAY */
  RELEASE ADD(SWESPDG2)
ENDJOB

JOB SWESPDG2
/*  RUN DAILY  */
/*  LATESUB 12:30                                              */
/*    IF TODAY('16TH JUN 2009') THEN JOBATTR REQUEST           */
/*    WORKS WHEN WORKING WITH HOURS AND MINUTES                */
       IF ESPAHH EQ '07' AND ESPAMN LE '40' +
          THEN NORUN TODAY
       ELSE +
          RUN DAILY
     RELEASE ADD(SWESPDG3)
   ENDJOB

JOB SWESPDG3
/*  IF !USER2 = 'DAVE' THEN RUN TODAY */
/*  ELSE NORUN TODAY */
/*  RUN WEEKDAYS  */
    RUN WEDNESDAYS
/*  RUN THURSDAYS */
  RELEASE ADD(SWESPDG4)
ENDJOB

/*  JOB SWESPDG4 */
/*  RUN TUESDAYS  */
/*  RUN WEDNESDAYS */
/*  RUN THURSDAYS */
ENDJOB
