APPL DGTEST43 WAIT NOPOST_WHILE_WAITING

INVOKE 'SWS.ESP.APPL.PROCLIB(#DISTRIB)'

/*****************************************************/
/*****************************************************/
/*- TEST OF MVS JOB THAT WILL RETURN ANY CC FROM 0 - 16  */
/*- JUST ENTER THE CODE YOU WANT THE JOB TO END WITH
/*- INTO USER 1 PARAMETER FIELD WHEN TRIGGEREING THE EVENT
/*****************************************************/

TAG TEST


JOB SWESPJC2
  /*ECHO !USER1
  CCCHK RC(1:4095) FAIL CONTINUE
  /*DATASET 'FTRF.TSTJOBS'
  RUN TODAY
  RELEASE ADD(LEDALRT(A))
  /*RELEASE ADD(LED046_FAILURE(A))
  RELEASE ADD(REEXEC01(A))
ENDJOB

JOB REEXEC01 CONDITIONAL TASK
  RUN TODAY
  RELEASE ADD(SWESPJC2.1)
  /*RELDELAY 1
  /*ESP AJ SWESPJC2 RESUBMIT APPL(DGTEST43.0)
  /*REEXEC AT('REALNOW PLUS 1 MIN') MAXIMUM(4)
  /*IF ESPREEXEC#>3 THEN ESP AJ REEXEC01 COMPLETE APPL(DGTEST43.0)
  /*RELEASE ADD(LED046_FAILURE)
ENDJOB

JOB SWESPJC2.1
  /*ECHO !USER1
  CCCHK RC(1:4095) FAIL CONTINUE
  /*DATASET 'FTRF.TSTJOBS'
  RUN TODAY
  /*RELEASE ADD(LEDALRT(A))
  /*RELEASE ADD(LED046_FAILURE(A))
  RELEASE ADD(REEXEC02(A))
ENDJOB

JOB REEXEC02 CONDITIONAL TASK
  RUN TODAY
  RELEASE ADD(SWESPJC2.1)
ENDJOB
JOB LEDALRT CONDITIONAL
   RUN TODAY
ENDJOB

JOB LED046_FAILURE LINK PROCESS
   RUN TODAY
   RELDELAY 1
   ESP AJ SWESPJC2 COMPLETE APPL(DGTEST43.0)
ENDJOB

JOB DGTEST45 LINK PROCESS HOLD
   RUN TODAY
   /*RELEASE ADD(LED046_FAILURE)
ENDJOB

APPLEND DGTEST43
   RELDELAY 2
   ESPNOMSG TRIGGER !ESPEVENT ADD
ENDJOB

