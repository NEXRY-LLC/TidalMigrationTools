APPL OPMEL001 WAIT
INVOKE 'SWS.ESP.APPL.PROCLIB(#DISTRIB)'
/*********************************************************************/
/*    THIS IS A TEST OF THE ESP SCHEDULING SYSTEM*/
/*********************************************************************/
/* MVS JOB JCTESTCC WILL RETURN ANY CC FROM 0 - 16 */
/**  -ENTER CODE 04 OR 12 INTO USER 1 PARAMETER FIELD */
/***    WHEN TRIGGERING THE EVENT */
/*********************************************************************/
/*********************************************************************/
/* SET USER1 PARAMETER TO 00 AS DEFAULT*/
IF USER1 = '' THEN !USER1 = '00'
/*********************************************************************/
/*********************************************************************/
NOTIFY OVERDUE ABEND FAILURE MAILBOX(AKRONJOBREQ)
TAG TEST

JOB LIS.!ESPAPPL LINK PROCESS
   RUN DAILY
   RELEASE ADD(MERRY_CHRISTMAS )
   RELDELAY 30
ENDJOB

JOB MERRY_CHRISTMAS LINK PROCESS
   RUN DEC 25
   RELEASE ADD(HAPPY_NEW_YEAR )
ENDJOB

JOB HAPPY_NEW_YEAR LINK PROCESS
   RUN JAN 1
   RELEASE ADD(GOOD_MORNING )

JOB GOOD_MORNING LINK PROCESS
   RELDELAY 10
   RUN TODAY
   RELEASE ADD(JCTESTCC )
ENDJOB

JOB JCTESTCC HOLD
   DATASET 'FTRF.TSTJOBS'
   RUN TODAY
   CCCHK RC(1:3) FAIL CONTINUE
   CCCHK RC(5:11) FAIL CONTINUE
   CCCHK RC(13:4095) FAIL CONTINUE
   RELEASE ADD(JCTEST00 ) COND(RC(0))
   RELEASE ADD(JCTEST04 ) COND(RC(4))
   RELEASE ADD(JCTEST12 ) COND(RC(12))
ENDJOB

JOB JCTEST00 LINK PROCESS
   CCCHK RC(1:4095) FAIL CONTINUE
   RUN TODAY
   RELEASE ADD(JCTEST00.2 ) COND(RC(0))
ENDJOB

JOB JCTEST00.2 LINK PROCESS
   CCCHK RC(1:4095) FAIL CONTINUE
   RUN TODAY
   RELEASE ADD(GO_GET_SOME_COFFEE )
ENDJOB

JOB JCTEST04 LINK PROCESS
   CCCHK RC(1:4095) FAIL CONTINUE
   RUN TODAY
   RELEASE ADD(JCTEST04.2 )
ENDJOB

JOB JCTEST04.2 LINK PROCESS
   CCCHK RC(1:4095) FAIL CONTINUE
   RUN TODAY
   RELEASE ADD(GO_GET_SOME_COFFEE )
ENDJOB

JOB JCTEST12 LINK PROCESS
   CCCHK RC(1:4095) FAIL CONTINUE
   RUN TODAY
   RELEASE ADD(JCTEST12.2 )
ENDJOB

JOB JCTEST12.2 LINK PROCESS
   CCCHK RC(1:4095) FAIL CONTINUE
   RUN TODAY
   RELEASE ADD(GO_GET_SOME_COFFEE )
ENDJOB

JOB GO_GET_SOME_COFFEE LINK PROCESS HOLD
   TAG TESTJOB
   RUN DAILY
   RELEASE ADD(RUN_COMMAND_ON_AIX_BOX ,HAPPY_BIRTHDAY_MELISSA )
ENDJOB

AIX_JOB RUN_COMMAND_ON_AIX_BOX CRITICAL
   AGENT CYBA_ISBFP3
   COMMAND /bin/sleep
   ARGS 3
   USER root
   RUN 1ST DAY OF MONTH
   RELEASE ADD(Z_TEST_SAP_JOB_ON_BFT030 )
ENDJOB

SAP_JOB Z_TEST_SAP_JOB_ON_BFT030
   AGENT CYBB_BFT030
   SAPJOBNAME Z_TEST_SAP_JOB_ON_BFT030
   SAPJOBCLASS A
   STARTMODE ASAP
   ABAPNAME RSUSR000
   STEPUSER SAPADM
   ARCMODE PRINT
   LINES 50
   PRINTNEWSPOOL YES
   RUN DAILY
   RELDELAY 30
   RELEASE ADD(EMAIL_SUPPORT_PROCESS_COMPLETE )
ENDJOB

JOB EMAIL_SUPPORT_PROCESS_COMPLETE LINK PROCESS
   RUN DAILY
   NOTIFY JOBEND MAILBOX(AKRONJOBREQ)
   RELEASE ADD(LIE.!ESPAPPL )
ENDJOB

JOB LIE.!ESPAPPL LINK PROCESS
   RUN DAILY
   DUEOUT EXEC NOW PLUS 1 HOURS
ENDJOB

JOB HAPPY_BIRTHDAY_MELISSA LINK PROCESS
   RUN AUG 26, 2019
   RELEASE (LIE.!ESPAPPL )
ENDJOB


