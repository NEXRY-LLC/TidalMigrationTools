APPL JCTEST44 WAIT NOPOST_WHILE_WAITING

INVOKE 'SWS.ESP.APPL.PROCLIB(#DISTRIB)'

/*****************************************************/
/*****************************************************/
/*- TEST OF REEXEC COMMAND
/*****************************************************/

TAG TEST

JOB START.!ESPAPPL LINK PROCESS
  RUN TODAY
/*RELDELAY 5
  RELEASE ADD(SWESPJC2)
ENDJOB

JOB SWESPJC2
  CCCHK RC(1:4095) FAIL CONTINUE
  /*DATASET 'FTRF.TSTJOBS'
  RUN TODAY
  RELEASE ADD(REEXEC01(A))
  IF !ESPAPSUB# = 2 THEN ESP AJ REEXEC02 INSERT APPL(JCTEST44.0)
  RELEASE ADD(REEXEC03(A))
ENDJOB

JOB REEXEC01 CONDITIONAL LINK PROCESS
  ESP AJ SWESPJC2 RESUBMIT APPL(JCTEST44.0)
  IF ESPREEXEC#=0 THEN RUN TODAY
  RELDELAY 1
ENDJOB

JOB REEXEC02 LINK PROCESS
  ESP AJ SWESPJC2 RESUBMIT APPL(JCTEST44.0)
  IF ESPREEXEC#=1 THEN RUN TODAY
  RELDELAY 1
ENDJOB

JOB REEXEC03 CONDITIONAL LINK PROCESS
  ESP AJ SWESPJC2 RESUBMIT APPL(JCTEST44.0)
  IF ESPREEXEC#=2 THEN RUN TODAY
ENDJOB

APPLEND TRIGNEW1.!ESPAPPL
   ESPNOMSG TRIGGER !ESPEVENT ADD
ENDJOB

