APPL SWESP6TT JOB_ANCESTOR_WAIT

TAG 'SWTEST'

/*                 FUNCTION CHECK TEST FOR SYS6                   */
/*  MULTI-STEP TEST JOB FOR CHECKING ESP FUNCTIONS AFTER UPGRADE  */

NOTIFY FAILURE ABEND ALERT(REMD)

/*  CCCHK RC(1:4095) FAIL CONTINUE  */

JCLLIB 'FTRF.PRDJOBS'
COPYJCL 'SWS.ESP.COPYLIB'
TEMPLIB 'SWS.ESP.TEMPLIB'

IF !ESPAPSUB# > 1 THEN JCLLIB 'SWS.ESP.COPYLIB'

OPTIONS RESTARTSTEP

/*  ALLOC A TEST DATA SET ON SYS6  */
JOB SWESP6TT
  RUN NOW
  RELEASE ADD(SWESP6TS)
ENDJOB

/*  REPORT THE STATUS OF SYS6  */
JOB SWESP6TS
/*  DELAYSUB NOW PLUS 30 SECONDS */
  RUN NOW
  RELEASE ADD(TESTUSS)
ENDJOB

DSTRIG TESTUSS
  DSNAME u/bs07579/test_trigger USS
  RUN NOW
  RELEASE ADD(SWESP6TU)
ENDJOB

/*  UNCAT AND DELETE TEST DATA SET ON SYS6  */
JOB SWESP6TU
  RUN NOW
ENDJOB

