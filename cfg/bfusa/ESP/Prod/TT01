APPL TT01 JOB_ANCESTOR_WAIT


INVOKE 'SWS.ESP.APPL.PROCLIB(#DISTRIB)'

/*==== TTDCALC1 DATA
/* IF THE JOB HAS FAILED, AND SUBMIT COUNT IS LESS THAN TWO -
/*  THIS WILL RERUN THE FAILED JOB AFTER 1 MINUTE

IF (!MNAPPL EQ 'TTDCALC1' AND -
    !MNFULLNAME EQ 'FLATSPOT_CALCULATION' AND -
    !MNSUB# LT '2') THEN  -
  DO
     JOB RERUNIT.!MNJOB LINK PROCESS
      RUN TODAY
      RELDELAY 1
      ESP AJ !MNFULLNAME RESUBMIT APPL(!MNAPPL..!MNAPPLGEN)
     ENDJOB
   ENDDO

/* IF THE JOB HAS FAILED, AND SUBMIT COUNT EQUALS TWO */
/* - THEN MARK JOB AS COMPLETE */

IF (!MNAPPL EQ 'TTDCALC1' AND -
    !MNFULLNAME EQ 'FLATSPOT_CALCULATION' AND -
    !MNSUB# GE '2') THEN  -
  DO
   /*** COMPLETE THE FAILED JOB ***/
   ESP AJ !MNFULLNAME COMPLETE APPL(!MNAPPL..!MNAPPLGEN)
   ENDDO

/*==== TTDCALC2 DATA
/* IF THE JOB HAS FAILED, AND SUBMIT COUNT IS LESS THAN TWO -
/*  THIS WILL RERUN THE FAILED JOB AFTER 1 MINUTE

IF (!MNAPPL EQ 'TTDCALC2' AND -
    !MNFULLNAME EQ 'LDP_CALCULATION' AND -
    !MNSUB# LT '2') THEN  -
  DO
     JOB RERUNIT.!MNJOB LINK PROCESS
      RUN TODAY
      RELDELAY 1
      ESP AJ !MNFULLNAME RESUBMIT APPL(!MNAPPL..!MNAPPLGEN)
     ENDJOB
   ENDDO

/* IF THE JOB HAS FAILED, AND SUBMIT COUNT EQUALS TWO */
/* - THEN MARK JOB AS COMPLETE */

IF (!MNAPPL EQ 'TTDCALC2' AND -
    !MNFULLNAME EQ 'LDP_CALCULATION' AND -
    !MNSUB# GE '2') THEN  -
  DO
   /*** COMPLETE THE FAILED JOB ***/
   ESP AJ !MNFULLNAME COMPLETE APPL(!MNAPPL..!MNAPPLGEN)
   ENDDO

/*==== TTDCALC3 DATA
/* IF THE JOB HAS FAILED, AND SUBMIT COUNT IS LESS THAN TWO -
/*  THIS WILL RERUN THE FAILED JOB AFTER 1 MINUTE

IF (!MNAPPL EQ 'TTDCALC3' AND -
    !MNSUB# LT '2') THEN  -
  DO
     JOB RERUNIT.!MNJOB LINK PROCESS
      RUN TODAY
      RELDELAY 1
      ESP AJ !MNFULLNAME RESUBMIT APPL(!MNAPPL..!MNAPPLGEN)
     ENDJOB
   ENDDO

/* IF THE JOB HAS FAILED, AND SUBMIT COUNT EQUALS TWO */
/* - THEN MARK JOB AS COMPLETE */

IF (!MNAPPL EQ 'TTDCALC3' AND -
    !MNSUB# GE '2') THEN  -
  DO
   /*** COMPLETE THE FAILED JOB ***/
   ESP AJ !MNFULLNAME COMPLETE APPL(!MNAPPL..!MNAPPLGEN)
   ENDDO

